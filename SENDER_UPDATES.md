# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API

–í —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ:
```json
{
  "fromMe": true,
  "senderUserId": 2,
  "senderUser": {
    "id": 2,
    "name": null,
    "email": "admin@naliv.kz"
  }
}
```

## üé® –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **ChatBubble.jsx**
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ bubble
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –º–µ–¥–∏–∞ –∏ quoted —Å–æ–æ–±—â–µ–Ω–∏–π

### 2. **ChatSidebar.jsx**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–µ—Ñ–∏–∫—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤ preview –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–∏–Ω–∏-–∞–≤–∞—Ç–∞—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —Ä—è–¥–æ–º —Å –≤—Ä–µ–º–µ–Ω–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UserAvatar –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º

### 3. **ChatInfoSidebar.jsx**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (fromMe: true)

### 4. **ChatMessages.jsx**
- ‚úÖ –õ–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è–º
- ‚úÖ –ü–æ–∫–∞–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≥—Ä—É–ø–ø—ã –ø—Ä–∏ —Å–º–µ–Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏–ª–∏ –ø–æ—Å–ª–µ 5+ –º–∏–Ω—É—Ç

### 5. **Messenger.jsx**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–ø–ø —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MessageGroupHeader

## üÜï –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **UserAvatar.jsx**
```jsx
<UserAvatar user={senderUser} size={20} />
```
- üé® –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏/email
- üìè –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä
- üî§ –ò–Ω–∏—Ü–∏–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **MessageGroupHeader.jsx**
```jsx
<MessageGroupHeader senderUser={user} timestamp={time} />
```
- üë§ –ê–≤–∞—Ç–∞—Ä + –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- ‚è∞ –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- üì± –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üéØ –õ–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –≥—Ä—É–ø–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:
1. **–ù–æ–≤—ã–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å** - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä—ã–≤** - –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –ø—Ä–æ—à–ª–æ > 5 –º–∏–Ω—É—Ç  
3. **–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ–ø–∏—Å–∫–∏

## üì± UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### ChatSidebar
```
[–ò–º—è —á–∞—Ç–∞]
admin: –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ... üë§ 12:34
```

### ChatMessages
```
üë§ admin 12:34
‚îå‚îÄ –°–æ–æ–±—â–µ–Ω–∏–µ 1 ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ –°–æ–æ–±—â–µ–Ω–∏–µ 2 ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üë§ admin 12:40
‚îå‚îÄ –°–æ–æ–±—â–µ–Ω–∏–µ 3 ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ChatInfoSidebar
```
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚îú‚îÄ –°–æ–∑–¥–∞–Ω: 16.07.2025
‚îú‚îÄ –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: 16.07.2025, 12:34
‚îî‚îÄ –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å: admin@naliv.kz
```

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- **–ê–≤–∞—Ç–∞—Ä—ã**: –¶–≤–µ—Ç–Ω—ã–µ –∫—Ä—É–≥–∏ —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞**: –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–¥–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- **–¢–∞–π–º—Å—Ç–∞–º–ø—ã**: –í –∑–∞–≥–æ–ª–æ–≤–∫–µ –≥—Ä—É–ø–ø—ã –≤–º–µ—Å—Ç–æ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º**: –°–æ—Ö—Ä–∞–Ω–µ–Ω –æ–±—â–∏–π —Å—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞

## ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –±–µ–∑ senderUser
- ‚úÖ Graceful fallback –Ω–∞ email –µ—Å–ª–∏ –Ω–µ—Ç –∏–º–µ–Ω–∏
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –£—Å–ª–æ–≤–∏–µ –ø–æ–∫–∞–∑–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞:
```javascript
const showSenderInfo = msg.fromMe && msg.senderUser && (
  !prevMsg || 
  !prevMsg.fromMe || 
  prevMsg.senderUserId !== msg.senderUserId ||
  (new Date(msg.timestamp) - new Date(prevMsg.timestamp)) > 5 * 60 * 1000
);
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–≤–µ—Ç–∞ –∞–≤–∞—Ç–∞—Ä–∞:
```javascript
const getColorFromString = (str) => {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    hash = str.charCodeAt(i) + ((hash << 5) - hash);
  }
  const hue = hash % 360;
  return `hsl(${hue}, 70%, 60%)`;
};
```

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ —É–ª—É—á—à–∞—é—Ç UX –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —á–∞—Ç–æ–≤! üéâ
